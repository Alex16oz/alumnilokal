<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modern Web App</title>
  <link href='style.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdn.sheetjs.com/xlsx-0.20.3/package/dist/xlsx.full.min.js"></script>
</head>
<body>
  <nav class="navbar">
    <h1>Alumni Pelatihan</h1>
    <div class="dropdown">
      <button id="menu-dots-btn" class="menu-dots-button">&#8942;</button>
      <div id="dropdown-menu" class="dropdown-content">
        <a href="#" id="select-mode-btn">Pilih</a>
        <a href="visualisasi.html">Visualisasi</a>
      </div>
    </div>
  </nav>

  <div class="menu-controls-wrapper">
    <div id="main-menu-container" class="menu-container">
        <button id="toggle-columns-btn" class="menu-button"><i class="fas fa-columns"></i> Pilih Kolom</button>
        <button id="toggle-pagination-btn" class="menu-button"><i class="fas fa-list-ol"></i> Paginasi</button>
        <button id="toggle-sort-btn" class="menu-button"><i class="fas fa-sort-amount-down"></i> Urutkan</button>
        <button id="filter-btn" class="menu-button"><i class="fas fa-filter"></i> Filter</button>
        <button id="add-data-btn" class="menu-button primary"><i class="fas fa-plus"></i> Tambah Data</button>
        <button id="download-data-btn" class="menu-button"><i class="fas fa-download"></i> Unduh Data</button>
        <button id="edit-data-btn" class="menu-button icon-button edit-icon" style="display: none;"><i class="fas fa-pencil-alt"></i></button>
        <button id="delete-data-btn" class="menu-button icon-button delete-icon" style="display: none;"><i class="fas fa-trash-alt"></i></button>
    </div>

    <div id="selection-actions-container" class="menu-container" style="display: none;">
      <button id="copy-selected-btn" class="menu-button">Salin</button>
      <button id="download-selected-btn" class="menu-button">Unduh Pilihan</button>
      <button id="delete-selected-btn" class="menu-button delete-icon">Hapus Pilihan</button>
      <button id="cancel-selection-btn" class="menu-button">Batalkan</button>
    </div>
  </div>


  <div id="alumni-container">
  </div>

  <div id="pagination-controls">
    <button id="first-page-btn">&lt;&lt;</button>
    <button id="prev-page-btn">&lt;</button>
    <span id="page-info">Halaman 1 dari 1</span>
    <button id="next-page-btn">&gt;</button>
    <button id="last-page-btn">&gt;&gt;</button>
  </div>

  <div id="popup-container" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <div class="popup-header">
        <h2>Pilih Kolom</h2>
        <button id="close-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body">
        <div id="column-selection"></div>
      </div>
      <div class="popup-footer">
        <button id="select-all-btn">Pilih Semua</button>
        <button id="deselect-all-btn">Hapus Semua</button>
        <button id="apply-columns-btn" class="primary" >Terapkan</button>
      </div>
    </div>
  </div>

  <div id="pagination-popup-container" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <div class="popup-header">
        <h2>Atur Paginasi</h2>
        <button id="close-pagination-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body">
        <label for="rows-per-page-select">Baris per halaman:</label>
        <select id="rows-per-page-select">
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="15">15</option>
          <option value="20" selected>20</option>
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="100">100</option>
          <option value="all">Semua</option>
        </select>
      </div>
      <div class="popup-footer">
        <button id="apply-pagination-btn" class="primary">Terapkan</button>
      </div>
    </div>
  </div>

  <div id="sort-popup-container" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <div class="popup-header">
        <h2>Urutkan Tabel</h2>
        <button id="close-sort-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body">
        <label for="sort-column-select">Urutkan berdasarkan:</label>
        <select id="sort-column-select"></select>
        <div>
          <label><input type="radio" name="sort-direction" value="asc" checked> Ascending</label>
          <label><input type="radio" name="sort-direction" value="desc"> Descending</label>
        </div>
      </div>
      <div class="popup-footer">
        <button id="apply-sort-btn" class="primary">Terapkan</button>
      </div>
    </div>
  </div>

  <div id="filter-popup-container" class="popup-overlay" style="display: none;">
      <div class="popup-content" style="max-width: 700px;">
          <div class="popup-header">
              <h2>Filter Tabel</h2>
              <button id="close-filter-popup-btn" class="close-button">&times;</button>
          </div>
          <div class="popup-body">
              <div id="filter-conditions-container"></div>
              <button id="add-filter-btn" class="menu-button" style="margin-top: 10px;">+ Tambah Filter</button>
          </div>
          <div class="popup-footer">
              <button id="apply-filters-btn" class="primary">Terapkan</button>
              <button id="reset-filters-btn">Reset Semua Filter</button>
          </div>
      </div>
  </div>

  <div id="add-method-choice-popup" class="popup-overlay" style="display: none;">
    <div class="popup-content" style="max-width: 450px;">
      <div class="popup-header">
        <h2>Pilih Metode Input Data</h2>
        <button id="close-choice-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body" style="text-align: center; padding: 30px; display: flex; justify-content: center; gap: 10px;">
        <button id="manual-input-btn" class="menu-button">Manual</button>
        <a href="import.html" class="menu-button" style="text-decoration: none;">Import</a>
      </div>
    </div>
  </div>

  <div id="add-data-popup-container" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <div class="popup-header">
        <h2>Tambah Data Alumni (Manual)</h2>
        <button id="close-add-data-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body">
        <form id="add-data-form"></form>
      </div>
      <div class="popup-footer">
        <button id="submit-add-data-btn" class="primary">Simpan</button>
      </div>
    </div>
  </div>

  <div id="download-popup-container" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <div class="popup-header">
        <h2>Unduh Data</h2>
        <button id="close-download-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body" style="text-align: center;">
        <p>Pilih format file untuk unduh data yang ditampilkan saat ini.</p>
        <button id="download-csv-btn" class="menu-button">Unduh CSV</button>
        <button id="download-json-btn" class="menu-button">Unduh JSON</button>
        <button id="download-xlsx-btn" class="menu-button">Unduh XLSX</button>
      </div>
    </div>
  </div>

  <div id="download-selected-popup-container" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <div class="popup-header">
        <h2>Unduh Data Pilihan</h2>
        <button id="close-download-selected-popup-btn" class="close-button">&times;</button>
      </div>
      <div class="popup-body" style="text-align: center;">
        <p>Pilih format file untuk unduh data yang dipilih.</p>
        <button id="download-selected-csv-btn" class="menu-button">Unduh CSV</button>
        <button id="download-selected-json-btn" class="menu-button">Unduh JSON</button>
        <button id="download-selected-xlsx-btn" class="menu-button">Unduh XLSX</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>